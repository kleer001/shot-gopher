{% import 'components/upload_zone.html' as upload %}
{% import 'components/video_info.html' as video %}
{% import 'components/config_form.html' as config %}
{% import 'components/processing_panel.html' as processing %}
{% import 'components/projects_list.html' as projects %}
{% import 'components/error_toast.html' as errors %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}VFX Pipeline{% endblock %}</title>
    <link rel="stylesheet" href="{% block stylesheet %}/static/css/style.css{% endblock %}">
</head>
<body>
    <div class="container">
        {% block navigation %}
        <!-- Navigation can be overridden by templates -->
        {% endblock %}

        <header role="banner">
            <h1>{% block header_title %}VFX Pipeline Processor{% endblock %}</h1>
            <div id="system-status" class="system-status" role="status" aria-live="polite" aria-label="System status">
                <span class="status-dot" aria-hidden="true"></span>
                <span class="status-text">Checking ComfyUI...</span>
            </div>
        </header>

        <main role="main">
            {% block content %}
            <!-- Main content area for template variants -->
            {% endblock %}
        </main>

        <footer role="contentinfo">
            <p>VFX Pipeline v1.0 | <a href="https://github.com/kleer001/comfyui_ingest" target="_blank" rel="noopener noreferrer">GitHub</a></p>
            {% block footer_links %}
            <!-- Navigation between template variants -->
            <nav class="template-nav" role="navigation" aria-label="View templates">
                <a href="/">Classic</a> |
                <a href="/compact">Compact</a> |
                <a href="/dashboard">Dashboard</a> |
                <a href="/split">Split</a> |
                <a href="/cards">Cards</a>
            </nav>
            {% endblock %}
        </footer>
    </div>

    <!-- Error Toast (used by all templates) -->
    {{ errors.error_toast() }}

    <!-- JavaScript - ES6 Modules -->
    <script type="module" src="/static/js/main.js"></script>
    {% block extra_scripts %}{% endblock %}
</body>
</html>
